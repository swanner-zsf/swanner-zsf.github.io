{"pages":[],"posts":[{"title":"前端调用 face++ API实现微信小程序身份证识别","text":"小程序拍照并本地保存拍摄身份证得到照片，将照片路径保存至data中： 12345&lt;!-- camera.wxml --&gt;&lt;camera device-position=&quot;back&quot; flash=&quot;off&quot; binderror=&quot;error&quot; style=&quot;width: 100%; height: 300px;&quot;&gt;&lt;/camera&gt;&lt;button type=&quot;primary&quot; bindtap=&quot;takePhoto&quot;&gt;拍照&lt;/button&gt;&lt;view&gt;预览&lt;/view&gt;&lt;image mode=&quot;widthFix&quot; src=&quot;{{src}}&quot;&gt;&lt;/image&gt; 1234567891011121314151617// camera.jsPage({ takePhoto() { const ctx = wx.createCameraContext() ctx.takePhoto({ quality: &apos;high&apos;, success: (res) =&gt; { this.setData({ src: res.tempImagePath }) } }) }, error(e) { console.log(e.detail) }}) 照片转base64编码格式通过微信小程序文件管理器wx.getFileSystemManager获得照片路径，通过encoding将它转为base64编码格式。 12345678let that = this;wx.getFileSystemManager().readFile({ filePath: this.data.src, encoding: &apos;base64&apos;, success: res =&gt; { let _img_base64 = &apos;data:image/png;base64,&apos; + res.data; }}); 调用face++ API通过wx.request向face++请求回数据请求参数(必选）: api_key: “xxx” api_secret: “xxx” image_url / image_file / image_base64 数据返回成功后，将数据保存123456789101112131415161718wx.request({ url: &apos;https://api-cn.faceplusplus.com/cardpp/v1/ocridcard&apos;, data: { api_key: &apos;&apos;, api_secret: &apos;&apos;, image_base64: _img_base64 }, method: &quot;POST&quot;, header: { &apos;content-type&apos;: &apos;application/x-www-form-urlencoded&apos; // 默认值 }, success: function(res) { that.setData({ identity : res.data.cards[0] }); console.log(that.data.identity); } })","link":"/2019/09/14/face++/"},{"title":"markdown 基本语法","text":"换行在行后空两格回车，自动换行。 表格表格内文本位置默认居左，居右写法 —:居中写法 :—: 1234567大标题1|大标题2|大标题3 ---|---|--- 内容1|内容2|内容3 内容1|内容2|内容3 列表列表形式需与上文空行；符号 - + * 和内容之间需加空格。 无序列表： 123- 列表内容+ 列表内容* 列表内容 有序列表：任意数字加点、加空格、加内容 1231. 列表内容2. 列表内容3. 列表内容","link":"/2019/09/14/markdown-notes/"}],"tags":[{"name":"小程序 身份证识别 face++","slug":"小程序-身份证识别-face","link":"/tags/小程序-身份证识别-face/"}],"categories":[]}